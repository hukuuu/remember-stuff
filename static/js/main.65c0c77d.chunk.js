(this["webpackJsonpremember-stuff"]=this["webpackJsonpremember-stuff"]||[]).push([[0],{20:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var c=n(1),o=n.n(c),l=n(12),a=n.n(l),i=(n(20),n(6)),r=n(2),s=n(3),u=n(4),j=n(13),b=n.n(j),d=n(14),f=n(15),x=n(37),O=b()(Object(d.persist)((function(e){return{things:[],add:function(t){console.log("add",t),e(Object(f.a)((function(e){e.things.push(Object(s.a)({id:Object(x.a)()},t))})))},update:function(t){console.log("update",t),e((function(e){return{things:e.things.map((function(e){return e.id===t.id?t:e}))}}))},del:function(t){console.log("delete",t),e((function(e){return{things:e.things.filter((function(e){return e.id!==t}))}}))},lastWorkout:0,setLastWorkout:function(){e((function(){return{lastWorkout:Date.now()}}))}}}),{name:"remember-stuff"})),h=n(0),m={showDelete:!0},g=function(e){var t=e.thing,n=e.onSave,o=e.onCancel,l=e.onDelete,a=e.config,i=void 0===a?m:a,r=Object(c.useState)(t.title),j=Object(u.a)(r,2),b=j[0],d=j[1],f=Object(c.useState)(t.body),x=Object(u.a)(f,2),O=x[0],g=x[1];Object(c.useEffect)((function(){d(t.title),g(t.body)}),[t]);var p=i.showDelete;return Object(h.jsx)("div",{className:"w-full",children:Object(h.jsxs)("form",{className:"px-8 pt-6 pb-8 mb-4",children:[Object(h.jsxs)("div",{className:"mb-4",children:[Object(h.jsx)("label",{className:"block  text-sm mb-2",htmlFor:"title",children:"Title"}),Object(h.jsx)("textarea",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",rows:3,id:"title",type:"text",placeholder:"",value:b,onChange:function(e){return d(e.target.value)}})]}),Object(h.jsxs)("div",{className:"mb-6",children:[Object(h.jsx)("label",{className:"block text-sm mb-2",htmlFor:"details",children:"Details"}),Object(h.jsx)("textarea",{rows:15,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"details",type:"details",placeholder:"",value:O,onChange:function(e){return g(e.target.value)}})]}),Object(h.jsxs)("div",{className:"flex items-center justify-between",children:[Object(h.jsx)("button",{className:"hover:bg-pink-600",type:"button",onClick:function(){return n(Object(s.a)(Object(s.a)({},t),{},{title:b,body:O}))},children:"[Save]"}),p&&Object(h.jsx)("button",{className:"hover:bg-pink-600",type:"button",onClick:function(){l(t.id)},children:"[Delete]"}),Object(h.jsx)("button",{className:"hover:bg-pink-600",type:"button",onClick:o,children:"[Cancel]"})]})]})})},p=n(7),v={title:"",body:""},y=function(){var e=Object(r.f)(),t=O((function(e){return e.add})),n=Object(c.useState)(v),o=Object(u.a)(n,2),l=o[0],a=o[1];return Object(h.jsx)(g,{thing:l,onSave:function(e){var n=e.title,c=e.body;console.log("onsave",n,c),t({title:n,body:c,memoryModel:Object(p.defaultModel)(5),lastReview:Date.now()}),a(Object(s.a)({},v))},onCancel:function(){e(-1)},config:{showDelete:!1}})},w=function(e){var t=e.onGood,n=e.onBad;return Object(h.jsxs)("div",{className:"flex h-20 justify-around items-center",children:[Object(h.jsx)("button",{className:"hover:bg-pink-600",onClick:t,children:"[\u2764\ufe0f Like]"}),Object(h.jsx)("button",{className:"hover:bg-pink-600",onClick:n,children:"[\ud83d\udca9 Dislike]"})]})},N=function(e){var t=e.thing;return Object(h.jsxs)("div",{className:" flex flex-1 flex-col p-8  overflow-y-hidden ",children:[Object(h.jsx)("p",{className:"text-green-500 text-3xl font-semibold text-center",children:t.title}),Object(h.jsx)("br",{}),Object(h.jsx)("p",{className:"text-lg text-center",children:t.body})]})},k=function(e){return(Date.now()-e)/36e5},D=function(){return Object(h.jsx)("div",{className:"flex flex-1 flex-col justify-center items-center text-6xl ",children:"ALL GOOD!"})},C=function(e){var t=e.things,n=Object(c.useState)(0),o=Object(u.a)(n,2),l=o[0],a=o[1],i=O((function(e){return e.update})),r=O((function(e){return[e.lastWorkout,e.setLastWorkout]})),j=Object(u.a)(r,2),b=j[0],d=j[1],f=function(e,t){return function(){console.log("before update: ",e);var n=Object(s.a)(Object(s.a)({},e),{},{memoryModel:Object(p.updateRecall)(e.memoryModel,t,1,k(e.lastReview)),lastReview:Date.now()});console.log("new value: ",n),i(n),l+1>=x.length&&d(Date.now()),a(l+1)}},x=Object(c.useMemo)((function(){return t.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{recallProbability:Object(p.predictRecall)(e.memoryModel,k(e.lastReview),!0)})})).sort((function(e,t){return e.recallProbability-t.recallProbability}))}),[b]);if(l>=x.length)return Object(h.jsx)(D,{});var m=x[l];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(N,{thing:m}),Object(h.jsx)(w,{onGood:f(m,!1),onBad:f(m,!0)})]})},S=function(){var e=O((function(e){return e.things}));return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(C,{things:e})})},M=function(){var e=Object(r.g)().id,t=Object(r.f)(),n=O(Object(c.useCallback)((function(t){return t.things.find((function(t){return t.id===e}))}),[e])),o=O((function(e){return e.update})),l=O((function(e){return e.del})),a=function(){t(-1)};return n?Object(h.jsx)(g,{thing:n,onDelete:function(e){l(e),a()},onCancel:a,onSave:o}):Object(h.jsx)("div",{children:"Item not found!"})},R=function(){var e=O((function(e){return e.things}));return Object(h.jsx)("ul",{className:"mt-12 px-12",children:e.map((function(e,t){return Object(h.jsx)("li",{className:"py-1 hover:bg-pink-600",children:Object(h.jsxs)(i.b,{to:"/edit/".concat(e.id),children:[t+1+". ",e.title]})},t)}))})},L=function(e){var t=e.to,n=e.text;return Object(h.jsxs)(i.b,{className:"hover:bg-pink-600",to:t,children:["[",n,"]"]})};function W(){return Object(h.jsx)(i.a,{children:Object(h.jsxs)("div",{className:"max-w-md mx-auto flex flex-col flex-grow w-full bg-gray-700 text-gray-100 font-mono",children:[Object(h.jsxs)("nav",{className:"flex justify-evenly",children:[Object(h.jsx)(L,{to:"/",text:"Home"}),Object(h.jsx)(L,{to:"/add",text:"Add"}),Object(h.jsx)(L,{to:"/edit",text:"Edit"})]}),Object(h.jsx)("div",{className:"flex flex-1 flex-col",children:Object(h.jsxs)(r.c,{children:[Object(h.jsx)(r.a,{exact:!0,path:"/",element:Object(h.jsx)(S,{})}),Object(h.jsx)(r.a,{path:"/add",element:Object(h.jsx)(y,{})}),Object(h.jsx)(r.a,{path:"/edit",element:Object(h.jsx)(R,{})}),Object(h.jsx)(r.a,{path:"/edit/:id",element:Object(h.jsx)(M,{})})]})})]})})}a.a.render(Object(h.jsx)(o.a.StrictMode,{children:Object(h.jsx)(W,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.65c0c77d.chunk.js.map