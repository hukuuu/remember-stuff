{"version":3,"sources":["store.js","things/EditForm.js","things/AddScreen.js","things/Controls.js","things/Thing.js","utils.js","things/ThingList.js","things/WorkoutScreen.js","things/EditScreen.js","things/EditListScreen.js","App.js","index.js"],"names":["useStore","create","persist","set","things","add","thing","console","log","produce","draft","push","id","v4","update","t","state","map","del","filter","lastWorkout","setLastWorkout","Date","now","name","defaultConfig","showDelete","EditForm","onSave","onCancel","onDelete","config","useState","title","setTitle","body","setBody","useEffect","className","htmlFor","rows","type","placeholder","value","onChange","e","target","style","flex","onClick","window","confirm","emptyThing","AddScreen","navigate","useNavigate","setThing","memoryModel","defaultModel","lastReview","Controls","onGood","onBad","Thing","tUntilNow","ts","EmptyList","to","AllDone","ThingList","index","setIndex","makeThingUpdater","success","updated","updateRecall","interestingThings","length","useMemo","recallProbability","predictRecall","sort","a","b","WorkoutScreen","EditScreen","useParams","useCallback","find","EditListScreen","i","MyLink","text","App","exact","path","element","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6d221793.chunk.js","sourcesContent":["import create from 'zustand'\nimport { persist } from 'zustand/middleware'\nimport produce from 'immer'\nimport { v4 } from 'uuid'\n\nconst useStore = create(\n  persist(\n    set => ({\n      things: [],\n      add: thing => {\n        console.log('add', thing)\n        set(\n          produce(draft => {\n            draft.things.push({ id: v4(), ...thing })\n          })\n        )\n      },\n      update: t => {\n        console.log('update', t)\n        set(state => ({\n          things: state.things.map(thing => (thing.id === t.id ? t : thing)),\n        }))\n      },\n      del: id => {\n        console.log('delete', id)\n        // set(state => state.things.filter(thing => thing.id !== id))\n        set(state => ({\n          things: state.things.filter(thing => thing.id !== id),\n        }))\n      },\n      lastWorkout: 0,\n      setLastWorkout: () => {\n        set(() => ({\n          lastWorkout: Date.now(),\n        }))\n      },\n    }),\n    {\n      name: 'remember-stuff',\n    }\n  )\n)\n\nexport default useStore\n","import { useState, useEffect } from 'react'\n\nconst defaultConfig = {\n  showDelete: true,\n}\n\nconst EditForm = ({\n  thing,\n  onSave,\n  onCancel,\n  onDelete,\n  config = defaultConfig,\n}) => {\n  const [title, setTitle] = useState(thing.title)\n  const [body, setBody] = useState(thing.body)\n\n  useEffect(() => {\n    setTitle(thing.title)\n    setBody(thing.body)\n  }, [thing])\n\n  const confirmDelete = () => {\n    if (window.confirm('Confirm Deletion?')) onDelete(thing.id)\n  }\n\n  const { showDelete } = config\n\n  return (\n    <div className=\"flex flex-col flex-1 w-full  pt-8 \">\n      <div className=\"flex flex-col flex-1 px-8\">\n        <form className=\"flex flex-col flex-1\">\n          <div className=\"flex flex-col flex-1 mb-8\">\n            <label className=\"block text-sm mb-2\" htmlFor=\"title\">\n              Title\n            </label>\n            <textarea\n              className=\"h-full shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n              rows={3}\n              id=\"title\"\n              type=\"text\"\n              placeholder=\"\"\n              value={title}\n              onChange={e => setTitle(e.target.value)}\n            />\n          </div>\n          <div className=\"flex flex-col\" style={{ flex: 2 }}>\n            <label className=\"block text-sm mb-2\" htmlFor=\"details\">\n              Details\n            </label>\n            <textarea\n              rows={15}\n              className=\"h-full shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline\"\n              id=\"details\"\n              type=\"details\"\n              placeholder=\"\"\n              value={body}\n              onChange={e => setBody(e.target.value)}\n            />\n          </div>\n        </form>\n      </div>\n      <div className=\"flex h-10 items-center justify-between border-t-2 px-8 \">\n        <button\n          className=\"\"\n          type=\"button\"\n          onClick={() => onSave({ ...thing, title, body })}\n        >\n          [Save]\n        </button>\n        {showDelete && (\n          <button className=\"\" type=\"button\" onClick={confirmDelete}>\n            [Delete]\n          </button>\n        )}\n        <button className=\"\" type=\"button\" onClick={onCancel}>\n          [Cancel]\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default EditForm\n","import { useState } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport useStore from '../store'\nimport EditForm from './EditForm'\nimport { defaultModel } from 'ebisu-js'\n\nconst emptyThing = { title: '', body: '' }\n\nconst AddScreen = () => {\n  const navigate = useNavigate()\n  const add = useStore(state => state.add)\n  const [thing, setThing] = useState(emptyThing)\n\n  const onSave = ({ title, body }) => {\n    console.log('onsave', title, body)\n    add({\n      title,\n      body,\n      memoryModel: defaultModel(5),\n      lastReview: Date.now(),\n    })\n    setThing({ ...emptyThing })\n  }\n\n  const onCancel = () => {\n    navigate(-1)\n  }\n\n  const config = {\n    showDelete: false,\n  }\n\n  return <EditForm {...{ thing, onSave, onCancel, config }} />\n}\n\nexport default AddScreen\n","const Controls = ({ onGood, onBad }) => {\n  return (\n    <div className=\"flex h-10 justify-evenly items-center border-t-2\">\n      <button className=\"\" onClick={onGood}>\n        [❤️ Like]\n      </button>\n      <button className=\"\" onClick={onBad}>\n        [💩 Dislike]\n      </button>\n    </div>\n  )\n}\n\nexport default Controls\n","const Thing = ({ thing }) => {\n  return (\n    <div className=\"scrollbar flex flex-1 flex-col p-8 overflow-y-scroll\">\n      <p className=\"text-3xl font-semibold text-center text-yellow-400\">\n        {thing.title}\n      </p>\n      <br />\n      <p className=\"text-lg text-center\">{thing.body}</p>\n    </div>\n  )\n}\n\nexport default Thing\n","export const tUntilNow = ts => (Date.now() - ts) / (1000 * 60 * 60)\n","import { useMemo, useState } from 'react'\nimport Controls from './Controls'\nimport Thing from './Thing'\nimport { predictRecall, updateRecall } from 'ebisu-js'\nimport useStore from '../store'\nimport { tUntilNow } from '../utils'\nimport { Link } from 'react-router-dom'\n\nconst EmptyList = () => {\n  return (\n    <div className=\"flex flex-1 flex-col justify-center items-center text-xl p-8\">\n      <div>\n        You don't have any Quotes yet. Why don't you{' '}\n        <Link className=\"underline\" to={'/add'}>\n          add\n        </Link>{' '}\n        some?\n      </div>\n    </div>\n  )\n}\n\nconst AllDone = () => {\n  return (\n    <div className=\"flex flex-1 flex-col justify-center items-center text-xl p-8\">\n      <p className=\"text-5xl mb-8\">¯\\_(ツ)_/¯</p>\n      All good for now. <br /> Come back later!\n    </div>\n  )\n}\n\nconst ThingList = ({ things }) => {\n  const [index, setIndex] = useState(0)\n  const update = useStore(state => state.update)\n  const [lastWorkout, setLastWorkout] = useStore(state => [\n    state.lastWorkout,\n    state.setLastWorkout,\n  ])\n\n  const makeThingUpdater = (thing, success) => () => {\n    console.log('before update: ', thing)\n    const updated = {\n      ...thing,\n      memoryModel: updateRecall(\n        thing.memoryModel,\n        success,\n        1,\n        tUntilNow(thing.lastReview)\n      ),\n      lastReview: Date.now(),\n    }\n    console.log('new value: ', updated)\n    update(updated)\n    if (index + 1 >= interestingThings.length) setLastWorkout(Date.now())\n    setIndex(index + 1)\n  }\n\n  const interestingThings = useMemo(\n    () =>\n      things\n        .map(thing => ({\n          ...thing,\n          recallProbability: predictRecall(\n            thing.memoryModel,\n            tUntilNow(thing.lastReview),\n            true\n          ),\n        }))\n        .sort((a, b) => a.recallProbability - b.recallProbability)\n        .filter(thing => thing.recallProbability < 0.8),\n    [lastWorkout]\n  )\n\n  if (!things.length) return <EmptyList />\n  if (index >= interestingThings.length) return <AllDone />\n\n  const thing = interestingThings[index]\n\n  return (\n    <>\n      <Thing thing={thing} />\n      <Controls\n        onGood={makeThingUpdater(thing, false)}\n        onBad={makeThingUpdater(thing, true)}\n      />\n    </>\n  )\n}\n\nexport default ThingList\n","import ThingList from './ThingList'\nimport useStore from '../store'\nimport Debug from './Debug'\n\nconst WorkoutScreen = () => {\n  const things = useStore(state => state.things)\n\n  return (\n    <>\n      <ThingList things={things} />\n      {/* <Debug /> */}\n    </>\n  )\n}\n\nexport default WorkoutScreen\n","import { useCallback } from 'react'\nimport { useParams, useNavigate } from 'react-router-dom'\n\nimport useStore from '../store'\nimport EditForm from './EditForm'\n\nconst EditScreen = () => {\n  const { id } = useParams()\n  const navigate = useNavigate()\n\n  const thing = useStore(\n    useCallback(state => state.things.find(thing => thing.id === id), [id])\n  )\n\n  const update = useStore(state => state.update)\n  const del = useStore(state => state.del)\n\n  const onDelete = id => {\n    del(id)\n    onCancel()\n  }\n  const onCancel = () => {\n    navigate(-1)\n  }\n\n  if (!thing) return <div>Item not found!</div>\n\n  return <EditForm {...{ thing, onDelete, onCancel }} onSave={update} />\n}\n\nexport default EditScreen\n","import useStore from '../store'\nimport { Link } from 'react-router-dom'\n\nconst EmptyList = () => {\n  return (\n    <div className=\"flex flex-1 flex-col justify-center items-center text-xl p-8\">\n      <div>\n        Nothing to edit. Why don't you{' '}\n        <Link className=\"underline\" to={'/add'}>\n          add\n        </Link>{' '}\n        some quotes?\n      </div>\n    </div>\n  )\n}\n\nconst EditListScreen = () => {\n  const things = useStore(state => state.things)\n\n  if (!things.length) return <EmptyList />\n\n  return (\n    <ul className=\"mt-12 px-12\">\n      {things.map((thing, i) => (\n        <li key={i} className=\"py-1 \">\n          <Link to={`/edit/${thing.id}`}>\n            {i + 1 + '. '}\n            {thing.title}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  )\n}\n\nexport default EditListScreen\n","import { HashRouter as Router, Routes, Route, Link } from 'react-router-dom'\nimport { AddScreen, WorkoutScreen, EditListScreen, EditScreen } from './things'\n\nconst MyLink = ({ to, text }) => (\n  <Link className=\"\" to={to}>\n    [{text}]\n  </Link>\n)\n\nexport default function App() {\n  return (\n    <Router>\n      <div className=\"max-w-md mx-auto flex flex-col flex-grow w-full bg-gray-700 text-gray-100 font-mono overflow-y-hidden py-3\">\n        <nav className=\"flex h-10 justify-evenly items-center border-b-2\">\n          <MyLink to=\"/\" text=\"Home\" />\n          <MyLink to=\"/add\" text=\"Add\" />\n          <MyLink to=\"/edit\" text=\"Edit\" />\n        </nav>\n        <div className=\"flex flex-1 flex-col overflow-y-hidden\">\n          <Routes>\n            <Route exact path=\"/\" element={<WorkoutScreen />} />\n            <Route path=\"/add\" element={<AddScreen />} />\n            <Route path=\"/edit\" element={<EditListScreen />} />\n            <Route path=\"/edit/:id\" element={<EditScreen />} />\n          </Routes>\n        </div>\n      </div>\n    </Router>\n  )\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}