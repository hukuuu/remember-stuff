(this["webpackJsonpremember-stuff"]=this["webpackJsonpremember-stuff"]||[]).push([[0],{20:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var c=n(1),l=n.n(c),o=n(12),r=n.n(o),s=(n(20),n(6)),a=n(2),i=n(3),u=n(4),j=n(13),d=n.n(j),b=n(14),f=n(15),x=n(37),h=d()(Object(b.persist)((function(e){return{settings:{preferredWorkoutDuraiton:3},setSettings:function(t){e((function(){return{settings:t}}))},things:[],add:function(t){console.log("add",t),e(Object(f.a)((function(e){e.things.push(Object(i.a)({id:Object(x.a)()},t))})))},update:function(t){console.log("update",t),e((function(e){return{things:e.things.map((function(e){return e.id===t.id?t:e}))}}))},del:function(t){console.log("delete",t),e((function(e){return{things:e.things.filter((function(e){return e.id!==t}))}}))},lastWorkout:0,setLastWorkout:function(){e((function(){return{lastWorkout:Date.now()}}))}}}),{name:"remember-stuff"})),m=n(0),O={showDelete:!0},g=function(e){var t=e.thing,n=e.onSave,l=e.onCancel,o=e.onDelete,r=e.config,s=void 0===r?O:r,a=Object(c.useState)(t.title),j=Object(u.a)(a,2),d=j[0],b=j[1],f=Object(c.useState)(t.body),x=Object(u.a)(f,2),h=x[0],g=x[1];Object(c.useEffect)((function(){b(t.title),g(t.body)}),[t]);var p=s.showDelete;return Object(m.jsxs)("div",{className:"flex flex-col flex-1 w-full  pt-8 ",children:[Object(m.jsx)("div",{className:"flex flex-col flex-1 px-8",children:Object(m.jsxs)("form",{className:"flex flex-col flex-1",children:[Object(m.jsxs)("div",{className:"flex flex-col flex-1 mb-8",children:[Object(m.jsx)("label",{className:"block text-sm mb-2",htmlFor:"title",children:"Title"}),Object(m.jsx)("textarea",{className:"h-full shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",rows:3,id:"title",type:"text",placeholder:"",value:d,onChange:function(e){return b(e.target.value)}})]}),Object(m.jsxs)("div",{className:"flex flex-col",style:{flex:2},children:[Object(m.jsx)("label",{className:"block text-sm mb-2",htmlFor:"details",children:"Details"}),Object(m.jsx)("textarea",{rows:15,className:"h-full shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"details",type:"details",placeholder:"",value:h,onChange:function(e){return g(e.target.value)}})]})]})}),Object(m.jsxs)("div",{className:"flex h-10 items-center justify-between border-t-2 px-8 ",children:[Object(m.jsx)("button",{className:"",type:"button",onClick:function(){return n(Object(i.a)(Object(i.a)({},t),{},{title:d,body:h}))},children:"[Save]"}),p&&Object(m.jsx)("button",{className:"",type:"button",onClick:function(){window.confirm("Confirm Deletion?")&&o(t.id)},children:"[Delete]"}),Object(m.jsx)("button",{className:"",type:"button",onClick:l,children:"[Cancel]"})]})]})},p=n(7),v={title:"",body:""},y=function(){var e=Object(a.f)(),t=h((function(e){return e.add})),n=Object(c.useState)(v),l=Object(u.a)(n,2),o=l[0],r=l[1];return Object(m.jsx)(g,{thing:o,onSave:function(e){var n=e.title,c=e.body;console.log("onsave",n,c),t({title:n,body:c,memoryModel:Object(p.defaultModel)(15),lastReview:Date.now()}),r(Object(i.a)({},v))},onCancel:function(){e(-1)},config:{showDelete:!1}})},w=function(e){var t=e.onGood,n=e.onBad;return Object(m.jsxs)("div",{className:"flex h-10 justify-evenly items-center border-t-2",children:[Object(m.jsx)("button",{className:"",onClick:t,children:"[\u2764\ufe0f Like]"}),Object(m.jsx)("button",{className:"",onClick:n,children:"[\ud83d\udca9 Dislike]"})]})},N=function(e){var t=e.thing;return Object(m.jsxs)("div",{className:"scrollbar flex flex-1 flex-col p-8 overflow-y-scroll",children:[Object(m.jsx)("p",{className:"text-3xl font-semibold text-center text-highlight",children:t.title}),Object(m.jsx)("br",{}),Object(m.jsx)("p",{className:"text-lg text-center",children:t.body})]})},k=function(e){return(Date.now()-e)/6e4},D=function(){return Object(m.jsx)("div",{className:"flex flex-1 flex-col justify-center items-center text-xl p-8",children:Object(m.jsxs)("div",{children:["You don't have any Quotes yet. Why don't you"," ",Object(m.jsx)(s.b,{className:"underline",to:"/add",children:"add"})," ","some?"]})})},C=function(){return Object(m.jsxs)("div",{className:"flex flex-1 flex-col justify-center items-center text-xl p-8",children:[Object(m.jsx)("p",{className:"text-5xl mb-8",children:"\xaf\\_(\u30c4)_/\xaf"}),"All good for now. ",Object(m.jsx)("br",{})," Come back later!"]})},S=function(e){var t=e.things,n=Object(c.useState)(0),l=Object(u.a)(n,2),o=l[0],r=l[1],s=h((function(e){return e.update})),a=h((function(e){return[e.lastWorkout,e.setLastWorkout]})),j=Object(u.a)(a,2),d=j[0],b=j[1],f=function(e,t){var n=Date.now();return function(){console.log("before update: ",e);var c=e.readTimes||[];c.push(Date.now()-n),c.length>3&&c.shift();var l=c.reduce((function(e,t){return e+t}))/c.length,a=Object(i.a)(Object(i.a)({},e),{},{memoryModel:Object(p.updateRecall)(e.memoryModel,t,1,k(e.lastReview)),lastReview:Date.now(),readTimes:c,avgReadTime:l});console.log("new value: ",a),s(a),o+1>=x.length&&b(Date.now()),r(o+1)}},x=Object(c.useMemo)((function(){return t.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{recallProbability:Object(p.predictRecall)(e.memoryModel,k(e.lastReview),!0)})})).sort((function(e,t){return e.recallProbability-t.recallProbability})).filter((function(e){return e.recallProbability<.8}))}),[d]);if(!t.length)return Object(m.jsx)(D,{});if(o>=x.length)return Object(m.jsx)(C,{});var O=x[o];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(N,{thing:O}),Object(m.jsx)(w,{onGood:f(O,!1),onBad:f(O,!0)})]})},W=function(){var e=h((function(e){return e.things}));return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(S,{things:e})})},M=function(){var e=Object(a.g)().id,t=Object(a.f)(),n=h(Object(c.useCallback)((function(t){return t.things.find((function(t){return t.id===e}))}),[e])),l=h((function(e){return e.update})),o=h((function(e){return e.del})),r=function(){t(-1)};return n?Object(m.jsx)(g,{thing:n,onDelete:function(e){o(e),r()},onCancel:r,onSave:l}):Object(m.jsx)("div",{children:"Item not found!"})},R=function(){return Object(m.jsx)("div",{className:"flex flex-1 flex-col justify-center items-center text-xl p-8",children:Object(m.jsxs)("div",{children:["Nothing to edit. Why don't you"," ",Object(m.jsx)(s.b,{className:"underline",to:"/add",children:"add"})," ","some quotes?"]})})},F=function(){var e=h((function(e){return e.things}));return e.length?Object(m.jsx)("ul",{className:"mt-12 px-12",children:e.map((function(e,t){return Object(m.jsx)("li",{className:"py-1 ",children:Object(m.jsxs)(s.b,{to:"/edit/".concat(e.id),children:[t+1+". ",e.title]})},t)}))}):Object(m.jsx)(R,{})},P=function(){var e=h((function(e){return[e.settings,e.setSettings]})),t=Object(u.a)(e,2),n=t[0],l=t[1],o=Object(c.useState)(n.preferredWorkoutDuraiton),r=Object(u.a)(o,2),s=r[0],a=r[1];return Object(m.jsx)("div",{className:"pt-8",children:Object(m.jsxs)("form",{children:[Object(m.jsxs)("label",{htmlFor:"workoutDuration",className:"form-label",children:["How much time do you have?",Object(m.jsxs)("span",{className:"float-right",children:[s,"m"]})]}),Object(m.jsx)("input",{type:"range",min:1,max:20,step:1,className:"form-range w-full h-6 p-0 ",id:"workoutDuration",value:s,onChange:function(e){return a(parseInt(e.target.value))}}),Object(m.jsx)("button",{onClick:function(){var e=Object(i.a)(Object(i.a)({},n),{},{preferredWorkoutDuraiton:s});l(e)},children:"Save"})]})})},T=function(e){var t=e.to,n=e.text;return Object(m.jsxs)(s.b,{className:"",to:t,children:["[",n,"]"]})};function B(){return Object(m.jsx)(s.a,{children:Object(m.jsxs)("div",{className:"text-primary bg-primary max-w-md mx-auto flex flex-col flex-grow w-full  font-mono overflow-y-hidden py-3 ",children:[Object(m.jsxs)("nav",{className:"flex h-10 justify-evenly items-center border-b-2",children:[Object(m.jsx)(T,{to:"/",text:"Home"}),Object(m.jsx)(T,{to:"/add",text:"Add"}),Object(m.jsx)(T,{to:"/edit",text:"Edit"}),Object(m.jsx)(s.b,{className:"text-2xl",to:"/settings",children:"\u2699\ufe0f"})]}),Object(m.jsx)("div",{className:"flex flex-1 flex-col overflow-y-hidden",children:Object(m.jsxs)(a.c,{children:[Object(m.jsx)(a.a,{exact:!0,path:"/",element:Object(m.jsx)(W,{})}),Object(m.jsx)(a.a,{path:"/add",element:Object(m.jsx)(y,{})}),Object(m.jsx)(a.a,{path:"/edit",element:Object(m.jsx)(F,{})}),Object(m.jsx)(a.a,{path:"/edit/:id",element:Object(m.jsx)(M,{})}),Object(m.jsx)(a.a,{path:"/settings",element:Object(m.jsx)(P,{})})]})})]})})}r.a.render(Object(m.jsx)(l.a.StrictMode,{children:Object(m.jsx)(B,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.90645759.chunk.js.map