(this["webpackJsonpremember-stuff"]=this["webpackJsonpremember-stuff"]||[]).push([[0],{21:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var c=n(1),l=n.n(c),r=n(13),o=n.n(r),s=(n(21),n(6)),i=n(2),a=n(3),j=n(4),u=n(15),d=n.n(u),b=n(16),f=function(e){return{settings:{preferredWorkoutDuraiton:3},setSettings:function(t){e((function(){return{settings:t}}))}}},x=n(14),h=n(38),O=function(e){return{things:[],add:function(t){console.log("add",t),e(Object(x.a)((function(e){e.things.push(Object(a.a)({id:Object(h.a)()},t))})))},update:function(t){console.log("update",t),e((function(e){return{things:e.things.map((function(e){return e.id===t.id?t:e}))}}))},del:function(t){console.log("delete",t),e((function(e){return{things:e.things.filter((function(e){return e.id!==t}))}}))}}},m=d()(Object(b.persist)((function(e){return Object(a.a)(Object(a.a)(Object(a.a)({},f(e)),O(e)),{},{lastWorkout:0,setLastWorkout:function(){e((function(){return{lastWorkout:Date.now()}}))}})}),{name:"remember-stuff"})),g=n(9),v=n(0),p=["children"],y=function(e){var t=e.children,n=Object(g.a)(e,p);return Object(v.jsx)("div",Object(a.a)(Object(a.a)({className:"flex flex-col flex-1 w-full p-8 break-words scrollbar overflow-y-scroll"},n),{},{children:t}))},w=["children"],N=function(e){var t=e.children,n=Object(g.a)(e,w);return Object(v.jsx)("div",Object(a.a)(Object(a.a)({className:"flex h-10 justify-between items-center border-t-2 px-8"},n),{},{children:t}))},k={showDelete:!0},D=function(e){var t=e.thing,n=e.onSave,l=e.onCancel,r=e.onDelete,o=e.config,s=void 0===o?k:o,i=Object(c.useState)(t.title),u=Object(j.a)(i,2),d=u[0],b=u[1],f=Object(c.useState)(t.body),x=Object(j.a)(f,2),h=x[0],O=x[1];Object(c.useEffect)((function(){b(t.title),O(t.body)}),[t]);var m=s.showDelete;return Object(v.jsxs)("div",{className:"flex flex-col flex-1 w-full",children:[Object(v.jsx)(y,{children:Object(v.jsx)("div",{className:"flex flex-col flex-1",children:Object(v.jsxs)("form",{className:"flex flex-col flex-1",children:[Object(v.jsxs)("div",{className:"flex flex-col flex-1 mb-8",children:[Object(v.jsx)("label",{className:"block text-sm mb-2",htmlFor:"title",children:"Title"}),Object(v.jsx)("textarea",{className:"h-full shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",rows:3,id:"title",type:"text",placeholder:"",value:d,onChange:function(e){return b(e.target.value)}})]}),Object(v.jsxs)("div",{className:"flex flex-col",style:{flex:2},children:[Object(v.jsx)("label",{className:"block text-sm mb-2",htmlFor:"details",children:"Details"}),Object(v.jsx)("textarea",{rows:15,className:"h-full shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"details",type:"details",placeholder:"",value:h,onChange:function(e){return O(e.target.value)}})]})]})})}),Object(v.jsxs)(N,{children:[Object(v.jsx)("button",{className:"",type:"button",onClick:function(){return n(Object(a.a)(Object(a.a)({},t),{},{title:d,body:h}))},children:"[Save]"}),m&&Object(v.jsx)("button",{className:"",type:"button",onClick:function(){window.confirm("Confirm Deletion?")&&r(t.id)},children:"[Delete]"}),Object(v.jsx)("button",{className:"",type:"button",onClick:l,children:"[Cancel]"})]})]})},C=n(7),S={title:"",body:""},W=function(){var e=Object(i.f)(),t=m((function(e){return e.add})),n=Object(c.useState)(S),l=Object(j.a)(n,2),r=l[0],o=l[1];return Object(v.jsx)(D,{thing:r,onSave:function(e){var n=e.title,c=e.body;console.log("onsave",n,c),t({title:n,body:c,memoryModel:Object(C.defaultModel)(15),lastReview:Date.now()}),o(Object(a.a)({},S))},onCancel:function(){e(-1)},config:{showDelete:!1}})},M=function(e){var t=e.onGood,n=e.onBad;return Object(v.jsxs)(N,{children:[Object(v.jsx)("button",{className:"",onClick:t,children:"[\u2764\ufe0f Like]"}),Object(v.jsx)("button",{className:"",onClick:n,children:"[\ud83d\udca9 Dislike]"})]})},R=function(e){var t=e.thing;return Object(v.jsxs)("div",{className:"flex flex-1 flex-col",children:[Object(v.jsx)("p",{className:"text-3xl font-semibold text-center text-highlight",children:t.title}),Object(v.jsx)("br",{}),Object(v.jsx)("p",{className:"text-lg text-center",children:t.body})]})},F=function(e){return(Date.now()-e)/6e4},P=function(){return Object(v.jsx)(y,{children:Object(v.jsx)("div",{className:"flex flex-1 flex-col justify-center items-center text-xl",children:Object(v.jsxs)("div",{children:["You don't have any Quotes yet. Why don't you"," ",Object(v.jsx)(s.b,{className:"underline",to:"/add",children:"add"})," ","some?"]})})})},T=function(){return Object(v.jsx)(y,{children:Object(v.jsxs)("div",{className:"flex flex-1 flex-col justify-center items-center text-xl",children:[Object(v.jsx)("p",{className:"text-5xl mb-8",children:"\xaf\\_(\u30c4)_/\xaf"}),"All good for now. ",Object(v.jsx)("br",{})," Come back later!"]})})},B=function(e){var t=e.things,n=Object(c.useState)(0),l=Object(j.a)(n,2),r=l[0],o=l[1],s=m((function(e){return e.update})),i=m((function(e){return[e.lastWorkout,e.setLastWorkout]})),u=Object(j.a)(i,2),d=u[0],b=u[1],f=function(e,t){var n=Date.now();return function(){console.log("before update: ",e);var c=e.readTimes||[];c.push(Date.now()-n),c.length>3&&c.shift();var l=c.reduce((function(e,t){return e+t}))/c.length,i=Object(a.a)(Object(a.a)({},e),{},{memoryModel:Object(C.updateRecall)(e.memoryModel,t,1,F(e.lastReview)),lastReview:Date.now(),readTimes:c,avgReadTime:l});console.log("new value: ",i),s(i),r+1>=x.length&&b(Date.now()),o(r+1)}},x=Object(c.useMemo)((function(){return t.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{recallProbability:Object(C.predictRecall)(e.memoryModel,F(e.lastReview),!0)})})).sort((function(e,t){return e.recallProbability-t.recallProbability})).filter((function(e){return e.recallProbability<.5}))}),[d]);if(!t.length)return Object(v.jsx)(P,{});if(r>=x.length)return Object(v.jsx)(T,{});var h=x[r];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(y,{children:Object(v.jsx)(R,{thing:h})}),Object(v.jsx)(M,{onGood:f(h,!1),onBad:f(h,!0)})]})},E=function(){var e=m((function(e){return e.things}));return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(B,{things:e})})},I=function(){var e=Object(i.g)().id,t=Object(i.f)(),n=m(Object(c.useCallback)((function(t){return t.things.find((function(t){return t.id===e}))}),[e])),l=m((function(e){return e.update})),r=m((function(e){return e.del})),o=function(){t(-1)};return n?Object(v.jsx)(D,{thing:n,onDelete:function(e){r(e),o()},onCancel:o,onSave:l}):Object(v.jsx)("div",{children:"Item not found!"})},L=function(){return Object(v.jsx)("div",{className:"flex flex-1 flex-col justify-center items-center text-xl",children:Object(v.jsxs)("div",{children:["Nothing to edit. Why don't you"," ",Object(v.jsx)(s.b,{className:"underline",to:"/add",children:"add"})," ","some quotes?"]})})},A=function(e){var t=e.things;return Object(v.jsx)("ul",{className:"",children:t.map((function(e,t){return Object(v.jsx)("li",{className:"py-1",children:Object(v.jsxs)(s.b,{to:"/edit/".concat(e.id),children:[t+1+". ",e.title]})},t)}))})},G=function(){var e=m((function(e){return e.things}));return Object(v.jsx)(y,{children:e.length?Object(v.jsx)(A,{things:e}):Object(v.jsx)(L,{})})},H=function(){var e=m((function(e){return[e.settings,e.setSettings]})),t=Object(j.a)(e,2),n=t[0],l=t[1],r=Object(c.useState)(n.preferredWorkoutDuraiton),o=Object(j.a)(r,2),s=o[0],i=o[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(y,{children:Object(v.jsxs)("form",{children:[Object(v.jsxs)("label",{htmlFor:"workoutDuration",className:"form-label",children:["How much time do you have?",Object(v.jsxs)("span",{className:"float-right",children:[s,"m"]})]}),Object(v.jsx)("input",{type:"range",min:1,max:20,step:1,className:"form-range w-full h-6 p-0 ",id:"workoutDuration",value:s,onChange:function(e){return i(parseInt(e.target.value))}})]})}),Object(v.jsx)(N,{children:Object(v.jsx)("button",{onClick:function(){var e=Object(a.a)(Object(a.a)({},n),{},{preferredWorkoutDuraiton:s});l(e)},children:"[Save]"})})]})},J=function(e){var t=e.to,n=e.text;return Object(v.jsxs)(s.b,{className:"",to:t,children:["[",n,"]"]})};function _(){return Object(v.jsx)(s.a,{children:Object(v.jsxs)("div",{className:"text-primary bg-primary max-w-md mx-auto flex flex-col flex-grow w-full  font-mono overflow-y-hidden py-3 ",children:[Object(v.jsxs)("nav",{className:"flex h-10 justify-evenly items-center border-b-2",children:[Object(v.jsx)(J,{to:"/",text:"Home"}),Object(v.jsx)(J,{to:"/add",text:"Add"}),Object(v.jsx)(J,{to:"/edit",text:"Edit"}),Object(v.jsx)(s.b,{className:"text-2xl",to:"/settings",children:"\u2699\ufe0f"})]}),Object(v.jsx)("div",{className:"flex flex-1 flex-col overflow-y-hidden",children:Object(v.jsxs)(i.c,{children:[Object(v.jsx)(i.a,{exact:!0,path:"/",element:Object(v.jsx)(E,{})}),Object(v.jsx)(i.a,{path:"/add",element:Object(v.jsx)(W,{})}),Object(v.jsx)(i.a,{path:"/edit",element:Object(v.jsx)(G,{})}),Object(v.jsx)(i.a,{path:"/edit/:id",element:Object(v.jsx)(I,{})}),Object(v.jsx)(i.a,{path:"/settings",element:Object(v.jsx)(H,{})})]})})]})})}o.a.render(Object(v.jsx)(l.a.StrictMode,{children:Object(v.jsx)(_,{})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.f5a4bd82.chunk.js.map